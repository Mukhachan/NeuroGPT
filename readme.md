# Голосовой аватар Гарри
В наше время нейросети набирают популярность. В сфере машинного обучения появляется конкуренция, а голосовые помощники захватывают дома. У многих дома есть свои голосовые помощники в виде “умных” колонок, однако не многие пользуются ими на компьютерах, так как они к сожалению не оптимизированы для таких целей.

## Цель
Создать голосового аватара для повседневного пользования. Реализовать доступ к технологиям GPT, Yandex SpeechKit, а также DeepFace. Аватар, сможет распознавать речь, а также синтезировать свою речь для того чтобы пользователю было удобно им пользоваться. 

## Задачи
-	Изучение необходимых библиотек для языка Python.
-	Написание логики для приложения, включая распознавание и синтез речи, классификацию запросов, распознавания эмоций и работа с технологией GPT
-	Создание графического интерфейса для программы.
-	Реализация мультипроцессинга.
-	Реализация SGD-классификатора.


## Config.py
Для запуска проекта, создайте конфиг файл и создайте следующие переменные

```python
from pyaudio import paInt16


BOT_NAME = "Гарри"
filename_wav = "recorded.wav"
filename_opus = "recorded.opus"
chunk = 1024
FORMAT = pyaudio.paInt16
channels = 1
sample_rate = 16000
record_seconds = 5
threshold_ratio = 1.2 


synth_format = 'opus'
synth_voice = 'Bys_24000'
filename_opus = 'sound.opus'
filename_ogg = 'sound.ogg'


SberAuth = "<ТОКЕН>"
SberAccess = "<ТОКЕН>"

CAMERA_INDEX = 0 # 0 - внешняя, 1 - встроенная
PROXIES = {
    # Необязательно
}

YANDEX_GPT_API = "<ТОКЕН>"
YANDEX_GPT_IDENTIFY = "<ТОКЕН>"
CHAT_GPT_API = "<ТОКЕН>"
oauth = "<ТОКЕН>"
FOLDER_ID = "<ТОКЕН>" # Folder ID
user_name = "Артём"
maxTokens = '250'

AccesKey_wwd = "<ТОКЕН>" # Ключ доступа от Picovoice

prompt_template = {
    "modelUri": f"gpt://{FOLDER_ID}/yandexgpt/latest",
    "completionOptions": {
        "stream": False,
        "temperature": 0.3,
        "maxTokens": maxTokens
    },
    "messages": [
        {
            "role": "system",
            "text": f"Представь что ты Гарри Поттер. Ты обитаешь в компьютере и являешься цифровой версией Гарри Поттера из книги про Гарри Поттера автора Джоан Роулинг. С тобой общаюсь я, твой пользователь - {user_name}, но это не диалог. Также с тобой могут общаться и мои друзья так, что в начале каждого сообщения я буду отмечать, кто с тобой говорит. Во время ответа необязательно упоминать моё имя, но это можно сделать, чтобы он был более очеловеченным."
        },
    ]
}
```

## Запуск проекта
1. Создайте виртуальное окружение

    `
    python -m venv .venv
    `

2. Установите все необходимые библиотеки

    `
    pip install -r requirements.txt
    `

    или

    `
    pip3 install -r requirements.txt
    `

3. Запустите проект

    `
    python main.py
    `


### Аргументы запуска
- \-t (или --threshhold) [0, 1] Запустить сканирование уровня шума в помещении. По умолчанию запускается (1)
- \-c (или --console) [0, 1] Запустить WakeWord модель. По умолчанию запускается (1)

#### Примеры
`
python main.py -t 0 -c 0
`

`
python main.py -t 1 -c 0
`

`
python main.py -t 0 -c 1
`
